@bodyBG: #33383A;
//@controlsBG: hsl(40,30%,92%);
@controlsBG: #f8f6f2;
@controlsBorder: 1px solid @titleColor;
@controls: #444;
@titleColor: #b0b8bf;
@timerBG: @titleColor;
@urgent: #b45;
@wrong: @urgent;
@break1: 500px;


body {
  background: @bodyBG;
  color:white;
  text-align:center;
}
body, input {
  font-family:"Ubuntu";
}
#simon {
  width:800px;
  max-width:100%;
  min-width:300px;
  height:auto;
  margin:0 auto;
  .simonInner {
    max-width:94vh;
    min-width:300px;
    margin:0 auto;
    width:100%;
    overflow:hidden;
  }
  /* for mixin use */
  .centeredCell {
    display:flex;
    align-items:center;
    justify-content:center;
  }
  .board {
    padding-bottom:100%;
    background-color:transparent;
    //background:#555;
    border-radius:50%;
    position:relative;
    border-width:1px;
    border-style:dashed;
    border-color:rgba(255,255,255,0.3);
    transition:border-color 0.5s;
    //box-shadow:0 3px 4px rgba(0,0,0,0.5);
    .btnOuter {
      width:50%;
      height:100%;
      position:absolute;
      transform-origin:center left;
      overflow:hidden;
      pointer-events:none;
    }
    .btnInner {
      width:100%;
      height:100%;
      position:absolute;
      transform-origin:center left;
      overflow:hidden;
    }
    .btnTarget {
      width:192%;
      height:96%;
      left:-96%;
      top:2%;
      border-radius:50%;
      position:absolute;
      pointer-events:auto;
      overflow:hidden;
      cursor:pointer;
      background-image:linear-gradient(rgba(100,100,100,0.85),rgba(100,100,100,0.85));
      background-blend-mode:exclusion;
      &.pressed, &.indicate {
        background-image:none;
      }
      &.wrong {
        background-image:linear-gradient(@wrong, @wrong);
        background-blend-mode:normal;
      }
    }

    .boardCenter {
      position:absolute;
      width:60%;
      height:60%;
      background:@bodyBG;
      //background:#555;
      z-index:500;
      left:20%;
      top:20%;
      border-radius:50%;
      .boardCenterInner {
        position: absolute;
        width: 90%;
        top: 5%;
        left: 5%;
        height: 90%;
        border-radius: 50%;
        overflow:hidden;
        .stats {
          position:absolute;
          .centeredCell;
          padding-top:5%;
          width:100%;
          color:desaturate(darken(@controlsBG, 50%),30%);
          .num {
            font-size:20px;
            vertical-align:middle;
            padding-left:5px;
          }
        }
        .title {
          position:relative;
          margin:15% -20% -6%;
          width:140%;
          z-index:200;
          h1 {
            font-style:italic;
            fill:@titleColor;
            color:@controlsBG;
            stroke:@bodyBG;
            stroke-width:1px;
            margin:0;
          }

        }

        .controls {
          z-index: 10;
          color: @controls;
          background: @controlsBG;
          .controlsTop {
            border-bottom:@controlsBorder;
            display: flex;
            align-items:center;
            justify-content: center;
            position:relative;
            &::before {
              content:"";
              padding-bottom:20%;
            }
            .levelBar {
              display:none;
              //background:@timerBG;
              .level {
                position:relative;
                z-index:2;
              }
              .timer {
                z-index:1;
                height:100%;
                position:absolute;
                top:0;
                left:0;
                width:100%;
                background-color:@controlsBG;
                &.urgent {
                  background-color:@urgent;
                }
              }
            }
            .difficulty {
              display:flex;
              justify-content:space-around;
              align-items:center;
              width:100%;
            }
          }
          &.playing .controlsTop {
            .levelBar {
              display:block;
            }
            .difficulty {
              display:none;
            }
          }
          .controlsBottom {

            display:flex;
            align-items:stretch;
            &::before {
              content:"";
              padding:0 0 20%;
            }
            .strictness {
              width:50%;
              .centeredCell;
            }
            .actions {
              width:50%;
              .centeredCell;
              box-sizing:border-box;
              border-left:@controlsBorder;
              #psiReset {
                opacity:0.2;
                display:none;
              }
            }
          }
          &.userTurn .controlsBottom {
            .actions #psiReset {
              opacity:1;
            }
          }
          &.userTurn .controlsTop {
            background:@timerBG;
          }
          &.playing .controlsBottom {
            .actions #psiStart {
              display:none;
            }
            .actions #psiReset {
              display:inline;
            }
          }
          font-size:15px;
          @media (min-width: @break1) and (min-height: @break1) {
              font-size:24px;
          }
          input {
            font-size:15px;
            @media (min-width: @break1) and (min-height: @break1) {
              font-size:24px;
            }
          }
        }
        .messages {
          .centeredCell;
          background-color:@timerBG;
          font-style:italic;
          line-height:1;
          color:@controlsBG;
          padding:10px;
          font-size:16px;
          display:none;
          @media (min-width: @break1) and (min-height: @break1) {
            font-size:24px;
          }
        }
      }
    }
  }
}
#svgSprite {display:none;}
